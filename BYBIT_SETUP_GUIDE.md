# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Ç–æ—Ä–≥–æ–≤–ª–∏ –Ω–∞ Bybit

–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –±–æ—Ç–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∏—Ä–∂–µ–π Bybit.

## üéØ –û Bybit

**Bybit** - –ø–æ–ø—É–ª—è—Ä–Ω–∞—è –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω–∞—è –±–∏—Ä–∂–∞, —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—â–∞—è—Å—è –Ω–∞ –¥–µ—Ä–∏–≤–∞—Ç–∏–≤–∞—Ö –∏ —Å–ø–æ—Ç–æ–≤–æ–π —Ç–æ—Ä–≥–æ–≤–ª–µ.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ testnet –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –ù–∏–∑–∫–∏–µ –∫–æ–º–∏—Å—Å–∏–∏ (Maker: 0.01%, Taker: 0.06%)
- ‚úÖ –í—ã—Å–æ–∫–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å
- ‚úÖ API —Å —Ö–æ—Ä–æ—à–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–ø–æ—Ç –∏ —Ñ—å—é—á–µ—Ä—Å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏

---

## üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. –ê–∫–∫–∞—É–Ω—Ç –Ω–∞ Bybit (https://www.bybit.com/)
2. API –∫–ª—é—á–∏ –æ—Ç Bybit (–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –Ω–∏–∂–µ)
3. –°–µ—Ä–≤–µ—Ä —Å —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º –±–æ—Ç–æ–º (—Å–º. INSTALLATION_GUIDE.md)
4. Python 3.8+ —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º CCXT

---

## üîë –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ API –∫–ª—é—á–µ–π –Ω–∞ Bybit

### –î–ª—è Testnet (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—á–∞–ª–∞):

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ **Bybit Testnet**: https://testnet.bybit.com/
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏–ª–∏ –≤–æ–π–¥–∏—Ç–µ
3. –ü–æ–ª—É—á–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ (faucet)
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **API Management** ‚Üí **Create New Key**
5. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–ª—é—á–∞:
   - **Key Name**: `trading-bot-testnet`
   - **Permissions**: 
     - ‚úÖ Read-Write (–¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏)
     - ‚ùå Withdrawal (–ù–ï –≤–∫–ª—é—á–∞–π—Ç–µ!)
   - **IP Restriction**: –î–æ–±–∞–≤—å—Ç–µ IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
6. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ **API Key** –∏ **Secret Key**

### –î–ª—è Production (–ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è):

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ **Bybit**: https://www.bybit.com/
2. –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Account** ‚Üí **API Management**
4. –ù–∞–∂–º–∏—Ç–µ **Create New Key**
5. –ü—Ä–æ–π–¥–∏—Ç–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é (2FA)
6. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–ª—é—á–∞:
   - **Key Name**: `trading-bot-production`
   - **Permissions**:
     - ‚úÖ Contract Trade (–¥–ª—è —Ñ—å—é—á–µ—Ä—Å–æ–≤)
     - ‚úÖ Spot Trade (–¥–ª—è —Å–ø–æ—Ç–æ–≤–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏)
     - ‚ùå Withdrawal (–ù–ò–ö–û–ì–î–ê –Ω–µ –≤–∫–ª—é—á–∞–π—Ç–µ!)
   - **IP Whitelist**: –î–æ–±–∞–≤—å—Ç–µ IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
7. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ **API Key** –∏ **Secret Key** –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ

---

## ‚öôÔ∏è –®–∞–≥ 2: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–æ—Ç–∞ –¥–ª—è Bybit

### 2.1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É

```bash
ssh root@YOUR_SERVER_IP
```

### 2.2. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–æ—Ç–∞ (–µ—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω)

```bash
sudo systemctl stop trading-bot
```

### 2.3. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

```bash
sudo nano /etc/trading-bot/.env
```

### 2.4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–ª—è Bybit Testnet (–¥–ª—è –Ω–∞—á–∞–ª–∞)

```bash
# ============================================================================
# EXCHANGE CONFIGURATION
# ============================================================================
USE_CCXT=true
EXCHANGE_ID=bybit
EXCHANGE_API_KEY=–≤–∞—à_bybit_api_key_–∑–¥–µ—Å—å
EXCHANGE_API_SECRET=–≤–∞—à_bybit_api_secret_–∑–¥–µ—Å—å
EXCHANGE_TESTNET=true  # –í–ê–ñ–ù–û: true –¥–ª—è testnet!

# ============================================================================
# TRADING SETTINGS
# ============================================================================
TRADING_ENABLED=false  # –ù–∞—á–Ω–∏—Ç–µ —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞!
DEFAULT_SYMBOL=BTC/USDT
MAX_POSITION_SIZE=0.001  # –ú–∞–ª–µ–Ω—å–∫–∞—è –ø–æ–∑–∏—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–æ–≤
STOP_LOSS_PERCENTAGE=2.0
TAKE_PROFIT_PERCENTAGE=5.0

# ============================================================================
# RISK MANAGEMENT
# ============================================================================
MAX_DAILY_TRADES=5
MAX_OPEN_POSITIONS=2
MAX_DAILY_LOSS_PERCENTAGE=3.0
POSITION_SIZE_PERCENTAGE=1.0  # 1% –æ—Ç –∫–∞–ø–∏—Ç–∞–ª–∞
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ: `Ctrl+X`, –∑–∞—Ç–µ–º `Y`, –∑–∞—Ç–µ–º `Enter`

### 2.5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

```bash
sudo chown tradingbot:tradingbot /etc/trading-bot/.env
sudo chmod 600 /etc/trading-bot/.env
```

---

## üöÄ –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞/–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### 3.1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –±–æ—Ç–∞

```bash
cd /opt/trading-bot
```

### 3.2. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥ (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∏–∑ git)

```bash
# –ï—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —á–µ—Ä–µ–∑ git clone
cd ~/trading-bot-setup/life_is_a_joke
git pull origin copilot/create-deployment-infrastructure-files

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
sudo cp -r src/* /opt/trading-bot/src/
sudo cp requirements.txt /opt/trading-bot/
```

### 3.3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ/–æ–±–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ virtual environment
source /opt/trading-bot/venv/bin/activate

# –û–±–Ω–æ–≤–∏—Ç–µ pip
pip install --upgrade pip

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r /opt/trading-bot/requirements.txt

# –î–µ–∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ
deactivate
```

### 3.4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É CCXT

```bash
/opt/trading-bot/venv/bin/python3 -c "import ccxt; print('CCXT version:', ccxt.__version__); print('Bybit supported:', 'bybit' in ccxt.exchanges)"
```

–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
```
CCXT version: 4.2.x
Bybit supported: True
```

---

## üß™ –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Bybit

### 4.1. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç

```bash
sudo nano /opt/trading-bot/test_bybit.py
```

–í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥:

```python
#!/usr/bin/env python3
"""Test Bybit connection"""

import os
import sys
from dotenv import load_dotenv

# Load environment
load_dotenv('/etc/trading-bot/.env')

# Add src to path
sys.path.insert(0, '/opt/trading-bot/src')

from core.config import Config
from core.exchange_adapter import ExchangeAdapter

def test_bybit():
    print("=" * 70)
    print("Testing Bybit Connection")
    print("=" * 70)
    
    # Load config
    config = Config()
    print(f"Exchange ID: {config.exchange_id}")
    print(f"Use CCXT: {config.use_ccxt}")
    print(f"Testnet: {config.exchange_testnet}")
    print()
    
    # Initialize exchange
    try:
        exchange = ExchangeAdapter(config)
        print("‚úì Exchange adapter initialized")
    except Exception as e:
        print(f"‚úó Failed to initialize: {e}")
        return False
    
    # Test connection
    try:
        exchange.ping()
        print("‚úì Connection successful")
    except Exception as e:
        print(f"‚úó Ping failed: {e}")
        return False
    
    # Get account info
    try:
        account = exchange.get_account()
        print("‚úì Account info retrieved")
        print(f"  Balances found: {len(account.get('balances', []))}")
    except Exception as e:
        print(f"‚úó Failed to get account: {e}")
        return False
    
    # Get ticker
    try:
        ticker = exchange.get_symbol_ticker(config.default_symbol)
        print(f"‚úì Ticker for {config.default_symbol}: {ticker['price']}")
    except Exception as e:
        print(f"‚úó Failed to get ticker: {e}")
        return False
    
    # Get markets
    try:
        info = exchange.get_exchange_info()
        symbols = info.get('symbols', [])
        print(f"‚úì Exchange info: {len(symbols)} trading pairs available")
    except Exception as e:
        print(f"‚úó Failed to get exchange info: {e}")
        return False
    
    print()
    print("=" * 70)
    print("All tests PASSED! Bybit is ready to use.")
    print("=" * 70)
    return True

if __name__ == '__main__':
    success = test_bybit()
    sys.exit(0 if success else 1)
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ: `Ctrl+X`, `Y`, `Enter`

### 4.2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç

```bash
sudo /opt/trading-bot/venv/bin/python3 /opt/trading-bot/test_bybit.py
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
======================================================================
Testing Bybit Connection
======================================================================
Exchange ID: bybit
Use CCXT: True
Testnet: True

‚úì Exchange adapter initialized
‚úì Connection successful
‚úì Account info retrieved
  Balances found: 5
‚úì Ticker for BTC/USDT: 45000.50
‚úì Exchange info: 200 trading pairs available

======================================================================
All tests PASSED! Bybit is ready to use.
======================================================================
```

–ï—Å–ª–∏ —Ç–µ—Å—Ç –Ω–µ –ø—Ä–æ—à–µ–ª, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- API –∫–ª—é—á–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
- Testnet —Ä–µ–∂–∏–º –≤–∫–ª—é—á–µ–Ω (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ testnet –∫–ª—é—á–∏)
- –§–∞–π—Ä–≤–æ–ª –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Bybit

---

## üéÆ –®–∞–≥ 5: –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –≤ —Ä–µ–∂–∏–º–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### 5.1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

```bash
sudo systemctl start trading-bot
```

### 5.2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å

```bash
sudo systemctl status trading-bot
```

### 5.3. –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

```bash
sudo journalctl -u trading-bot -f
```

**–ß—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:**
```
Trading Bot - Starting
Exchange: bybit
Mode: CCXT
Trading enabled: False
Default symbol: BTC/USDT
Connected to bybit TESTNET (CCXT)
Account status: Can trade: True
TRADING BOT STARTED
Trading disabled, running in monitoring mode only
```

### 5.4. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

–ù–∞–∂–º–∏—Ç–µ `Ctrl+C`

---

## üìä –®–∞–≥ 6: –í–∫–ª—é—á–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–ª–∏ (–ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞)

### 6.1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ (–º–∏–Ω–∏–º—É–º 24 —á–∞—Å–∞)

### 6.2. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–æ—Ç–∞

```bash
sudo systemctl stop trading-bot
```

### 6.3. –í–∫–ª—é—á–∏—Ç–µ —Ç–æ—Ä–≥–æ–≤–ª—é –Ω–∞ testnet

```bash
sudo nano /etc/trading-bot/.env
```

–ò–∑–º–µ–Ω–∏—Ç–µ:
```bash
TRADING_ENABLED=true  # –í–∫–ª—é—á–∏—Ç—å —Ç–æ—Ä–≥–æ–≤–ª—é
EXCHANGE_TESTNET=true  # –û—Å—Ç–∞–≤–∏—Ç—å testnet!
```

### 6.4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

```bash
sudo systemctl start trading-bot
sudo journalctl -u trading-bot -f
```

–¢–µ–ø–µ—Ä—å –±–æ—Ç –±—É–¥–µ—Ç —Ä–µ–∞–ª—å–Ω–æ —Ç–æ—Ä–≥–æ–≤–∞—Ç—å –Ω–∞ Bybit Testnet —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏ –¥–µ–Ω—å–≥–∞–º–∏.

---

## üî¥ –®–∞–≥ 7: –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Production (—Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤!)

### ‚ö†Ô∏è –í–ê–ñ–ù–û: –î–µ–ª–∞–π—Ç–µ —ç—Ç–æ –¢–û–õ–¨–ö–û –ø–æ—Å–ª–µ:
- –ú–∏–Ω–∏–º—É–º 1 –Ω–µ–¥–µ–ª–∏ —É—Å–ø–µ—à–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏ –Ω–∞ testnet
- –ü—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (–≤—Ö–æ–¥, –≤—ã—Ö–æ–¥, stop-loss, take-profit)
- –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –≤ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

### 7.1. –°–æ–∑–¥–∞–π—Ç–µ production API –∫–ª—é—á–∏ –Ω–∞ Bybit

–°–º. –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤—ã—à–µ –¥–ª—è production.

### 7.2. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–æ—Ç–∞

```bash
sudo systemctl stop trading-bot
```

### 7.3. –°–æ–∑–¥–∞–π—Ç–µ –±—ç–∫–∞–ø –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
sudo cp /etc/trading-bot/.env /etc/trading-bot/.env.testnet.backup
```

### 7.4. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è production

```bash
sudo nano /etc/trading-bot/.env
```

–ò–∑–º–µ–Ω–∏—Ç–µ:
```bash
# Production API –∫–ª—é—á–∏
EXCHANGE_API_KEY=–≤–∞—à_PRODUCTION_bybit_api_key
EXCHANGE_API_SECRET=–≤–∞—à_PRODUCTION_bybit_api_secret
EXCHANGE_TESTNET=false  # FALSE –¥–ª—è production!

# –ù–∞—á–Ω–∏—Ç–µ —Å –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫!
TRADING_ENABLED=true
MAX_POSITION_SIZE=0.001  # –û–ß–ï–ù–¨ –º–∞–ª–µ–Ω—å–∫–∞—è –ø–æ–∑–∏—Ü–∏—è –¥–ª—è –Ω–∞—á–∞–ª–∞!
POSITION_SIZE_PERCENTAGE=0.5  # 0.5% –≤–º–µ—Å—Ç–æ 2%
MAX_DAILY_TRADES=3  # –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –∫–æ–ª-–≤–æ —Å–¥–µ–ª–æ–∫
MAX_OPEN_POSITIONS=1  # –¢–æ–ª—å–∫–æ 1 –ø–æ–∑–∏—Ü–∏—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
```

### 7.5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ü–û–°–¢–û–Ø–ù–ù–û

```bash
sudo systemctl start trading-bot
sudo journalctl -u trading-bot -f
```

**–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:**
- –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏ –ø–µ—Ä–≤—ã–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∫–∞–∂–¥—É—é —Å–¥–µ–ª–∫—É
- –ò–º–µ–π—Ç–µ –ø–ª–∞–Ω –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö

---

## üîç –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ç–æ—Ä–≥–æ–≤–ª–∏ –Ω–∞ Bybit

### –¢–æ—Ä–≥–æ–≤—ã–µ –ø–∞—Ä—ã

Bybit –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç: `BASE/QUOTE`

**–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –ø–∞—Ä—ã:**
- `BTC/USDT` - Bitcoin/Tether
- `ETH/USDT` - Ethereum/Tether
- `SOL/USDT` - Solana/Tether
- `XRP/USDT` - Ripple/Tether

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –æ—Ä–¥–µ—Ä–æ–≤

–ö–∞–∂–¥–∞—è –ø–∞—Ä–∞ –∏–º–µ–µ—Ç —Å–≤–æ–∏ –º–∏–Ω–∏–º—É–º—ã. –î–ª—è BTC/USDT:
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ—Ä–¥–µ—Ä: ~0.0001 BTC
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: ~5-10 USDT

### –ö–æ–º–∏—Å—Å–∏–∏

- **Spot Trading (—Å–ø–æ—Ç)**:
  - Maker: 0.1%
  - Taker: 0.1%
- **Derivatives (–¥–µ—Ä–∏–≤–∞—Ç–∏–≤—ã)**:
  - Maker: 0.01%
  - Taker: 0.06%

### –¢–∏–ø—ã –æ—Ä–¥–µ—Ä–æ–≤

–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:
- **Market** - –∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø–æ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω–µ
- **Limit** - –∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–π —Ü–µ–Ω–µ –∏–ª–∏ –ª—É—á—à–µ

---

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: "Invalid API credentials"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–ª—é—á–∏
sudo grep EXCHANGE_API /etc/trading-bot/.env

# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∫–ª—é—á–∏:
# Testnet –∫–ª—é—á–∏ - –¥–ª—è testnet.bybit.com
# Production –∫–ª—é—á–∏ - –¥–ª—è www.bybit.com
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Symbol not found: BTC/USDT"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã —á–µ—Ä–µ–∑ Python
/opt/trading-bot/venv/bin/python3 << EOF
import ccxt
exchange = ccxt.bybit({'enableRateLimit': True})
exchange.load_markets()
btc_pairs = [s for s in exchange.symbols if 'BTC' in s]
print(btc_pairs[:10])
EOF
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Insufficient balance"

**–†–µ—à–µ–Ω–∏–µ –¥–ª—è testnet:**
1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://testnet.bybit.com/
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ faucet –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤
3. –ü–æ–ø–æ–ª–Ω–∏—Ç–µ USDT –±–∞–ª–∞–Ω—Å

**–†–µ—à–µ–Ω–∏–µ –¥–ª—è production:**
1. –í–Ω–µ—Å–∏—Ç–µ –¥–µ–ø–æ–∑–∏—Ç –Ω–∞ Bybit
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—Ä–µ–¥—Å—Ç–≤–∞ –Ω–∞ Spot –∞–∫–∫–∞—É–Ω—Ç–µ (–Ω–µ Derivatives)

### –ü—Ä–æ–±–ª–µ–º–∞: "Order size too small"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£–≤–µ–ª–∏—á—å—Ç–µ —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ –≤ .env
MAX_POSITION_SIZE=0.001  # –£–≤–µ–ª–∏—á—å—Ç–µ —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Rate limit exceeded"

**–†–µ—à–µ–Ω–∏–µ:**
- CCXT –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç rate limits
- –£–≤–µ–ª–∏—á—å—Ç–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ bot.py: `time.sleep(60)` ‚Üí `time.sleep(120)`

---

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–æ—Ä–≥–æ–≤–ª–∏ –Ω–∞ Bybit

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞

```bash
/opt/trading-bot/venv/bin/python3 << EOF
import sys
sys.path.insert(0, '/opt/trading-bot/src')
from dotenv import load_dotenv
load_dotenv('/etc/trading-bot/.env')
from core.config import Config
from core.exchange_adapter import ExchangeAdapter

config = Config()
exchange = ExchangeAdapter(config)
account = exchange.get_account()

for balance in account.get('balances', []):
    free = float(balance.get('free', 0))
    locked = float(balance.get('locked', 0))
    if free > 0 or locked > 0:
        print(f"{balance['asset']}: Free={free}, Locked={locked}")
EOF
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π

```bash
sudo sqlite3 /var/lib/trading-bot/trading_bot.db "SELECT * FROM positions WHERE status='open';"
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–¥–µ–ª–æ–∫

```bash
sudo sqlite3 /var/lib/trading-bot/trading_bot.db "SELECT * FROM trades ORDER BY timestamp DESC LIMIT 10;"
```

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ï—Å–ª–∏ –≤—ã—à–ª–∞ –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è –∫–æ–¥–∞:

### –®–∞–≥ 1: –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–æ—Ç–∞

```bash
sudo systemctl stop trading-bot
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ –±—ç–∫–∞–ø

```bash
sudo bash /opt/trading-bot/deployment/scripts/backup.sh
```

### –®–∞–≥ 3: –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥

```bash
cd ~/trading-bot-setup/life_is_a_joke
git pull origin copilot/create-deployment-infrastructure-files
```

### –®–∞–≥ 4: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

```bash
sudo cp -r src/* /opt/trading-bot/src/
sudo cp requirements.txt /opt/trading-bot/
sudo cp BYBIT_SETUP_GUIDE.md /opt/trading-bot/
```

### –®–∞–≥ 5: –û–±–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
sudo /opt/trading-bot/venv/bin/pip install -r /opt/trading-bot/requirements.txt --upgrade
```

### –®–∞–≥ 6: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

```bash
sudo systemctl start trading-bot
sudo journalctl -u trading-bot -f
```

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **Bybit Official**: https://www.bybit.com/
- **Bybit Testnet**: https://testnet.bybit.com/
- **Bybit API Docs**: https://bybit-exchange.github.io/docs/v5/intro
- **CCXT Bybit**: https://docs.ccxt.com/#/exchanges/bybit
- **Bybit Trading Fees**: https://www.bybit.com/en-US/help-center/article/Trading-Fee-Structure

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

1. **–í–°–ï–ì–î–ê –Ω–∞—á–∏–Ω–∞–π—Ç–µ —Å testnet**
2. **–ù–ò–ö–û–ì–î–ê –Ω–µ –¥–∞–≤–∞–π—Ç–µ API –∫–ª—é—á–∞–º –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤**
3. **–ù–∞—á–∏–Ω–∞–π—Ç–µ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ –ø–æ–∑–∏—Ü–∏–π**
4. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–µ—Ä–≤—ã–µ –¥–Ω–∏**
5. **–ò–º–µ–π—Ç–µ –ø–ª–∞–Ω –≤—ã—Ö–æ–¥–∞ –ø—Ä–∏ —É–±—ã—Ç–∫–∞—Ö**
6. **–¢–æ—Ä–≥–æ–≤–ª—è –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞–º–∏ - –≤—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫**
7. **–ù–µ –∏–Ω–≤–µ—Å—Ç–∏—Ä—É–π—Ç–µ –±–æ–ª—å—à–µ, —á–µ–º –º–æ–∂–µ—Ç–µ –ø–æ—Ç–µ—Ä—è—Ç—å**

---

## ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –Ω–∞ Bybit

- [ ] –°–æ–∑–¥–∞–Ω –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ Bybit Testnet
- [ ] –ü–æ–ª—É—á–µ–Ω—ã testnet API –∫–ª—é—á–∏
- [ ] –ü–æ–ª—É—á–µ–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ (faucet)
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω/–æ–±–Ω–æ–≤–ª–µ–Ω CCXT –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω —Ñ–∞–π–ª .env –¥–ª—è Bybit testnet
- [ ] –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ
- [ ] –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω –≤ —Ä–µ–∂–∏–º–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (24+ —á–∞—Å–æ–≤)
- [ ] –õ–æ–≥–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã, –æ—à–∏–±–æ–∫ –Ω–µ—Ç
- [ ] –í–∫–ª—é—á–µ–Ω–∞ —Ç–æ—Ä–≥–æ–≤–ª—è –Ω–∞ testnet
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- [ ] –°–æ–∑–¥–∞–Ω—ã production API –∫–ª—é—á–∏ (–ø–æ—Å–ª–µ —Ç–µ—Å—Ç–æ–≤)
- [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–ª—è production
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–µ –ª–∏–º–∏—Ç—ã
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã
- [ ] –ì–æ—Ç–æ–≤ –ø–ª–∞–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –¥–µ–π—Å—Ç–≤–∏–π –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö

---

**–£–¥–∞—á–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏ –Ω–∞ Bybit! üöÄ**
